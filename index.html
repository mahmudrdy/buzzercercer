<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buzzer Cerdas Cermat â€“ 4 Grup</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;900&display=swap');
    
    body {
      font-family: 'Poppins', sans-serif;
    }
    
    .gradient-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    }
    
    .team-gradient {
      background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
    }
    
    .winner-gradient {
      background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
      animation: pulseWinner 0.5s infinite alternate;
    }
    
    @keyframes pulseWinner {
      from { 
        box-shadow: 0 0 30px #fbbf24;
        transform: scale(1.05);
      }
      to { 
        box-shadow: 0 0 50px #fbbf24;
        transform: scale(1.08);
      }
    }
    
    @keyframes flashText {
      from { 
        text-shadow: 0 0 20px #fbbf24;
        transform: scale(1);
      }
      to { 
        text-shadow: 0 0 50px #fbbf24;
        transform: scale(1.05);
      }
    }
    
    .flash {
      animation: flashText 0.4s infinite alternate;
    }
    
    .team-hover::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, transparent 0%, rgba(255,255,255,0.1) 100%);
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    .team-hover:hover::before {
      opacity: 1;
    }
  </style>
</head>
<body class="gradient-bg m-0 p-0 overflow-hidden">

<div class="h-screen flex flex-col">
  
  <!-- Header -->
  <div class="gradient-header text-white py-4 md:py-6 px-4 shadow-2xl">
    <h1 class="text-2xl md:text-4xl lg:text-5xl font-black text-center tracking-wider">
      BUZZER CERDAS CERMAT
    </h1>
  </div>

  <!-- Main Container -->
  <div class="flex-1 flex flex-col justify-center px-4 md:px-8 py-4 md:py-6 overflow-auto">
    
    <!-- Team Grid -->
    <div class="grid grid-cols-2 gap-3 md:gap-6 lg:gap-8 max-w-5xl mx-auto w-full mb-4 md:mb-6">
      
      <!-- Grup A -->
      <div class="team-gradient team-hover relative rounded-xl md:rounded-2xl border-2 md:border-3 border-red-500 border-opacity-50 cursor-pointer transition-all duration-300 hover:border-opacity-80 hover:-translate-y-2 hover:scale-105 hover:shadow-2xl backdrop-blur-sm p-4 md:p-8 lg:p-12" 
           data-team="A" 
           onclick="buzz('Grup A', 'A')">
        <div class="text-white text-2xl md:text-4xl lg:text-5xl font-bold mb-1 md:mb-2">GRUP A</div>
        <div class="text-white text-xs md:text-sm lg:text-base opacity-70 font-medium">Tekan tombol A</div>
      </div>

      <!-- Grup B -->
      <div class="team-gradient team-hover relative rounded-xl md:rounded-2xl border-2 md:border-3 border-green-500 border-opacity-50 cursor-pointer transition-all duration-300 hover:border-opacity-80 hover:-translate-y-2 hover:scale-105 hover:shadow-2xl backdrop-blur-sm p-4 md:p-8 lg:p-12" 
           data-team="B" 
           onclick="buzz('Grup B', 'B')">
        <div class="text-white text-2xl md:text-4xl lg:text-5xl font-bold mb-1 md:mb-2">GRUP B</div>
        <div class="text-white text-xs md:text-sm lg:text-base opacity-70 font-medium">Tekan tombol B</div>
      </div>

      <!-- Grup C -->
      <div class="team-gradient team-hover relative rounded-xl md:rounded-2xl border-2 md:border-3 border-blue-500 border-opacity-50 cursor-pointer transition-all duration-300 hover:border-opacity-80 hover:-translate-y-2 hover:scale-105 hover:shadow-2xl backdrop-blur-sm p-4 md:p-8 lg:p-12" 
           data-team="C" 
           onclick="buzz('Grup C', 'C')">
        <div class="text-white text-2xl md:text-4xl lg:text-5xl font-bold mb-1 md:mb-2">GRUP C</div>
        <div class="text-white text-xs md:text-sm lg:text-base opacity-70 font-medium">Tekan tombol C</div>
      </div>

      <!-- Grup D -->
      <div class="team-gradient team-hover relative rounded-xl md:rounded-2xl border-2 md:border-3 border-purple-500 border-opacity-50 cursor-pointer transition-all duration-300 hover:border-opacity-80 hover:-translate-y-2 hover:scale-105 hover:shadow-2xl backdrop-blur-sm p-4 md:p-8 lg:p-12" 
           data-team="D" 
           onclick="buzz('Grup D', 'D')">
        <div class="text-white text-2xl md:text-4xl lg:text-5xl font-bold mb-1 md:mb-2">GRUP D</div>
        <div class="text-white text-xs md:text-sm lg:text-base opacity-70 font-medium">Tekan tombol D</div>
      </div>
    </div>

    <!-- Result -->
    <div class="text-center mb-3 md:mb-6">
      <div id="result" class="text-2xl md:text-4xl lg:text-5xl font-black text-white opacity-50 min-h-[40px] md:min-h-[60px] flex items-center justify-center px-4">
        Siap untuk memulai...
      </div>
    </div>

    <!-- Controls -->
    <div class="text-center">
      <button onclick="resetBuzz()" class="bg-gradient-to-r from-red-500 to-red-600 text-white font-bold py-2 md:py-3 lg:py-4 px-6 md:px-10 lg:px-12 text-base md:text-lg lg:text-xl rounded-xl shadow-xl hover:-translate-y-1 hover:shadow-2xl transition-all duration-300 active:translate-y-0">
        ðŸ”„ RESET
      </button>
      <div class="text-white text-xs md:text-sm opacity-60 mt-2 md:mt-4">
        Klik grup atau tekan tombol keyboard (A, B, C, D) â€¢ Tekan Spasi untuk reset
      </div>
    </div>
  </div>

</div>

<!-- Suara untuk tiap grup -->
<audio id="soundA"><source src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg" type="audio/ogg"></audio>
<audio id="soundB"><source src="https://actions.google.com/sounds/v1/cartoon/cartoon_boing.ogg" type="audio/ogg"></audio>
<audio id="soundC"><source src="https://actions.google.com/sounds/v1/cartoon/pop.ogg" type="audio/ogg"></audio>
<audio id="soundD"><source src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg" type="audio/ogg"></audio>

<script>
let locked = false;
let startTime = null;
let responseTime = 0;

// Keyboard control
document.addEventListener('keydown', function(e) {
  const key = e.key.toLowerCase();
  
  if (!locked) {
    if (startTime === null) {
      startTime = Date.now();
    }
    
    if (key === 'a') buzz('Grup A', 'A');
    if (key === 'b') buzz('Grup B', 'B');
    if (key === 'c') buzz('Grup C', 'C');
    if (key === 'd') buzz('Grup D', 'D');
  }
  
  // Spasi untuk reset
  if (key === ' ' || e.code === 'Space') {
    e.preventDefault();
    resetBuzz();
  }
  
  // R untuk reset
  if (key === 'r') {
    resetBuzz();
  }
});

function buzz(team, code) {
  if (!locked) {
    locked = true;
    
    // Hitung waktu respons
    if (startTime !== null) {
      responseTime = ((Date.now() - startTime) / 1000).toFixed(3);
    }

    // Tampilkan pemenang
    const result = document.getElementById('result');
    result.innerText = `${team} TERCEPAT! âš¡`;
    if (responseTime > 0) {
      result.innerText += ` (${responseTime}s)`;
    }
    result.classList.remove('opacity-50');
    result.classList.add('flash');

    // Highlight panel yang menang
    const teams = document.querySelectorAll('[data-team]');
    teams.forEach(t => {
      if (t.getAttribute('data-team') === code) {
        t.classList.remove('team-gradient', 'border-red-500', 'border-green-500', 'border-blue-500', 'border-purple-500');
        t.classList.add('winner-gradient', 'border-yellow-400', 'text-slate-900');
        t.querySelector('div:first-child').classList.remove('text-white');
        t.querySelector('div:first-child').classList.add('text-slate-900');
        t.querySelector('div:last-child').classList.remove('text-white');
        t.querySelector('div:last-child').classList.add('text-slate-900');
      } else {
        t.classList.add('opacity-30');
      }
    });

    // Putar suara sesuai grup
    const sound = document.getElementById('sound' + code);
    sound.currentTime = 0;
    sound.play().catch(e => console.log('Audio play prevented:', e));
  }
}

function resetBuzz() {
  locked = false;
  startTime = null;
  responseTime = 0;
  
  const result = document.getElementById('result');
  result.innerText = "Siap untuk memulai...";
  result.classList.add('opacity-50');
  result.classList.remove('flash');

  // Reset warna dan opacity semua panel
  const teams = document.querySelectorAll('[data-team]');
  teams.forEach((team, index) => {
    team.classList.remove('winner-gradient', 'border-yellow-400', 'opacity-30', 'text-slate-900');
    team.classList.add('team-gradient');
    
    // Kembalikan border sesuai grup
    const teamCode = team.getAttribute('data-team');
    if (teamCode === 'A') team.classList.add('border-red-500');
    if (teamCode === 'B') team.classList.add('border-green-500');
    if (teamCode === 'C') team.classList.add('border-blue-500');
    if (teamCode === 'D') team.classList.add('border-purple-500');
    
    // Kembalikan warna text
    team.querySelectorAll('div').forEach(div => {
      div.classList.remove('text-slate-900');
      div.classList.add('text-white');
    });
  });
}
</script>

</body>
</html>